{"id":"debugg-ai-mcp-1lk","title":"Merge \u0026 Deploy: workflows tools","description":"Version bump (minor — new tools), npm publish, docker build+push. Update CLAUDE.md tool list to include new workflow tools.","status":"open","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-17T16:00:50.086935-08:00","created_by":"Quinn","updated_at":"2026-02-17T16:00:50.086935-08:00","dependencies":[{"issue_id":"debugg-ai-mcp-1lk","depends_on_id":"debugg-ai-mcp-h3r","type":"blocks","created_at":"2026-02-17T16:00:59.017778-08:00","created_by":"Quinn"},{"issue_id":"debugg-ai-mcp-1lk","depends_on_id":"debugg-ai-mcp-2zm","type":"blocks","created_at":"2026-02-17T16:00:59.096501-08:00","created_by":"Quinn"},{"issue_id":"debugg-ai-mcp-1lk","depends_on_id":"debugg-ai-mcp-pdx","type":"blocks","created_at":"2026-02-19T12:25:39.509595-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-1s7","title":"Build shared URL/tunnel context resolver","description":"Create utils/tunnelContext.ts (or similar) that all tools call before making backend requests.\n\nResponsibilities:\n1. resolveTargetUrl(input: {url?, localPort?}) → string  (already partially done in testPageChangesHandler, extract and centralize)\n2. prepareRequest(url, tunnelKey, tunnelId?) → { targetUrl, tunnel: TunnelResult | null }\n   - If localhost: creates/reuses tunnel via tunnelManager, returns tunnel URL for backend\n   - If public: passthrough, no tunnel\n3. sanitizeResponse(value: unknown, originalUrl: string) → unknown\n   - Wraps replaceTunnelUrls(), only applies when original was localhost\n   - Should be called on all backend response payloads before returning to MCP caller\n\nThis replaces the ad-hoc logic scattered across each handler. All tools import from here.","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-23T16:36:09.170528-08:00","created_by":"Quinn","updated_at":"2026-02-23T16:40:25.037769-08:00","closed_at":"2026-02-23T16:40:25.037769-08:00","close_reason":"Closed"}
{"id":"debugg-ai-mcp-2na","title":"Implement: debugg_ai_list_templates + debugg_ai_list_executions tools","description":"Simple read-only tools. list_templates: GET /workflows/?is_template=true, return name/uuid/description of each template. list_executions: GET /workflows/executions/ with optional status filter. Both are fast/synchronous — no polling needed. Add types to types/index.ts, tool defs in tools/workflows.ts, handlers in handlers/workflowHandlers.ts.","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-17T16:00:40.092222-08:00","created_by":"Quinn","updated_at":"2026-02-19T12:24:58.122795-08:00","closed_at":"2026-02-19T12:24:58.122795-08:00","close_reason":"list_templates + list_executions not needed as standalone MCP tools — use list_tests/list_test_suites","dependencies":[{"issue_id":"debugg-ai-mcp-2na","depends_on_id":"debugg-ai-mcp-8vd","type":"blocks","created_at":"2026-02-17T16:00:58.419827-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-2pf","title":"Refactor testPageChangesHandler: execute-first tunnel flow","description":"Backend now returns tunnel_key from the execute response. Change localhost tunnel flow: OLD: getNgrokAuthToken() probe hack → create tunnel → execute. NEW: execute → get tunnel_key + resource_uuid from response → create tunnel using tunnel_key as authtoken and resource_uuid as the ngrok subdomain. Remove call to client.getNgrokAuthToken(). Remove unused tunnelId / tunnelPublicUrl pre-generation. tunnelManager.processUrl() should receive tunnel_key and resource_uuid from execute response. Depends on debugg-ai-mcp-uvy (updated executeWorkflow).","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-19T12:25:11.842546-08:00","created_by":"Quinn","updated_at":"2026-02-19T12:29:58.085003-08:00","closed_at":"2026-02-19T12:29:58.085003-08:00","close_reason":"Handler refactored: execute-first, tunnel created after execute using tunnelKey+executionUuid","dependencies":[{"issue_id":"debugg-ai-mcp-2pf","depends_on_id":"debugg-ai-mcp-uvy","type":"blocks","created_at":"2026-02-19T12:25:38.66085-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-2us","title":"Implement: progress notification keeps MCP connection alive","description":"Ensure progressCallback is called at least every 30s during long E2E runs to prevent MCP client timeout. Add heartbeat ping when no meaningful update from poll. Handle progressCallback failure gracefully (dont crash the run if notification fails).","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-17T15:58:36.159622-08:00","created_by":"Quinn","updated_at":"2026-02-17T16:10:38.032591-08:00","closed_at":"2026-02-17T16:10:38.032591-08:00","close_reason":"Closed","dependencies":[{"issue_id":"debugg-ai-mcp-2us","depends_on_id":"debugg-ai-mcp-irs","type":"blocks","created_at":"2026-02-17T15:58:56.611318-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-2zm","title":"Workflows API Integration","description":"Implement DebuggAI Workflows API into the MCP server. Covers: service layer, MCP tools for listing templates, cloning, executing, polling executions, cancelling. Long-running executions must use the safe polling pattern from epic debugg-ai-mcp-6hk.","status":"open","priority":1,"issue_type":"epic","owner":"quinnosha@gmail.com","created_at":"2026-02-17T16:00:15.277964-08:00","created_by":"Quinn","updated_at":"2026-02-17T16:00:15.277964-08:00"}
{"id":"debugg-ai-mcp-3t8","title":"Browser session start response missing tunnel_key for localhost sessions","description":"POST /api/v1/browser-sessions/sessions/ response does not include tunnel_key. Response keys: id, session_name, status, initial_url, ..., monitoring. Our startLiveSessionHandler does: if (\\!session.tunnelKey) throw new Error('Backend did not return a tunnel key for localhost session'). This means all localhost live sessions always fail. Need API team to confirm if tunnel_key is returned for localhost sessions specifically (we tested with isLocalhost: false).","status":"open","priority":1,"issue_type":"bug","owner":"quinnosha@gmail.com","created_at":"2026-02-23T12:01:41.730146-08:00","created_by":"Quinn","updated_at":"2026-02-23T12:01:41.730146-08:00"}
{"id":"debugg-ai-mcp-4l5","title":"Delete dead e2e-agents/ and clean build","description":"Remove orphaned e2e-agents source files and do a clean dist build.\n\nFiles to delete:\n- e2e-agents/eRunner.ts\n- e2e-agents/recordingHandler.ts\n- e2e-agents/resultsFormatter.ts\n- __tests__/e2e-agents/ (check if tests reference these - if so delete them too)\n\nThen:\n1. rm -rf dist \u0026\u0026 npm run build\n2. Confirm dist/tools/terminal.js is gone\n3. npm test — all tests should pass\n4. Update CLAUDE.md: remove Docker Terminal Tools section (5 tools), fix total from 18 to 13","status":"closed","priority":2,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-19T06:13:32.094308-08:00","created_by":"Quinn","updated_at":"2026-02-19T06:16:57.023301-08:00","closed_at":"2026-02-19T06:16:57.023301-08:00","close_reason":"Dead e2e-agents/ files deleted, clean build done, CLAUDE.md updated","dependencies":[{"issue_id":"debugg-ai-mcp-4l5","depends_on_id":"debugg-ai-mcp-6a3","type":"blocks","created_at":"2026-02-19T06:13:37.237705-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-58t","title":"Epic: Ngrok tunnel verification \u0026 cleanup","description":"Verify the end-to-end ngrok tunnel flow works correctly and remove dead code.\n\n## What works\n- Both testPageChangesHandler and liveSessionHandlers use consistent pattern:\n  1. Generate UUID as tunnel subdomain\n  2. Backend API returns tunnelKey (ngrok auth token)\n  3. tunnelManager.processUrl() opens actual ngrok tunnel\n\n## Dead code to remove\n- services/ngrok/index.ts: NgrokTunnelClient is defined but never imported anywhere; only its re-export of tunnelManager is used. Replace with direct tunnelManager import.\n\n## Verification needed\n- Manual QA: localhost URL -\u003e tunnel created -\u003e backend can reach it\n- Check tunnel cleanup in finally blocks fires correctly\n- Verify 55min auto-shutoff timer works\n- Test tunnel reuse (same port = same tunnel)\n\n## Tasks\n1. Manual E2E: test check_app_in_browser with a localhost URL\n2. Clean up services/ngrok/index.ts dead NgrokTunnelClient class\n3. Update any imports that use services/ngrok/index.ts to import tunnelManager directly","status":"closed","priority":1,"issue_type":"epic","owner":"quinnosha@gmail.com","created_at":"2026-02-19T06:13:10.775899-08:00","created_by":"Quinn","updated_at":"2026-02-19T12:29:58.439386-08:00","closed_at":"2026-02-19T12:29:58.439386-08:00","close_reason":"Ngrok tunnel epic complete: probe hack removed, execute-first flow, revocation in place"}
{"id":"debugg-ai-mcp-5ga","title":"Remove getNgrokAuthToken probe-test hack from client","description":"getNgrokAuthToken() in services/index.ts creates a probe e2e test, waits for it, extracts the ngrok token, then deletes the test. This was a workaround — backend now returns tunnel_key directly from execute/. Remove getNgrokAuthToken() from DebuggAIServerClient entirely. Remove any cached token state. Clean up probe test remains in the test list if possible. Depends on debugg-ai-mcp-2pf (handler refactored to no longer call it).","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-19T12:25:23.559062-08:00","created_by":"Quinn","updated_at":"2026-02-19T12:29:58.267714-08:00","closed_at":"2026-02-19T12:29:58.267714-08:00","close_reason":"getNgrokAuthToken removed from DebuggAIServerClient; liveSessionHandler uses session.tunnelKey directly","dependencies":[{"issue_id":"debugg-ai-mcp-5ga","depends_on_id":"debugg-ai-mcp-2pf","type":"blocks","created_at":"2026-02-19T12:25:38.841681-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-5t5","title":"Add localhost tunnel support to quickScreenshot","description":"quickScreenshot tool silently fails or times out when given a localhost URL because it passes the URL directly to the backend without tunneling.\n\nFix: use the shared tunnel context resolver (from the centralization task) to:\n1. Detect if URL is localhost\n2. Create/reuse tunnel\n3. Pass tunnel URL to the quick screenshot API\n4. Sanitize response URLs before returning\n\nCurrently agents misuse this tool with localhost URLs and get confusing timeout errors.","status":"closed","priority":2,"issue_type":"feature","owner":"quinnosha@gmail.com","created_at":"2026-02-23T16:36:09.157155-08:00","created_by":"Quinn","updated_at":"2026-02-23T16:40:25.191326-08:00","closed_at":"2026-02-23T16:40:25.191326-08:00","close_reason":"Closed","dependencies":[{"issue_id":"debugg-ai-mcp-5t5","depends_on_id":"debugg-ai-mcp-1s7","type":"blocks","created_at":"2026-02-23T16:36:19.736942-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-5uk","title":"Add env/credential params to check_app_in_browser tool","description":"Backend execute/ now supports env field for credential/environment resolution. Expose these optional params on check_app_in_browser: credentialRole (string) — pick cred by role from project default env; username + password (strings) — inline creds, stored for reuse; environmentId + credentialId (strings) — direct references. All optional. Pass through as env in executeWorkflow call. Useful for testing auth-required apps. Depends on debugg-ai-mcp-uvy.","status":"open","priority":3,"issue_type":"feature","owner":"quinnosha@gmail.com","created_at":"2026-02-19T12:25:33.128005-08:00","created_by":"Quinn","updated_at":"2026-02-19T12:25:33.128005-08:00","dependencies":[{"issue_id":"debugg-ai-mcp-5uk","depends_on_id":"debugg-ai-mcp-uvy","type":"blocks","created_at":"2026-02-19T12:25:38.943813-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-6a3","title":"Epic: Dead code removal \u0026 clean build","description":"Remove orphaned code from the old e2e-agent approach and do a clean dist build.\n\n## Dead code identified\n- e2e-agents/e2eRunner.ts — E2eTestRunner class, no imports anywhere in active code\n- e2e-agents/recordingHandler.ts — no imports anywhere in active code\n- e2e-agents/resultsFormatter.ts — no imports anywhere in active code\n- dist/tools/terminal.js — stale artifact from deleted tools/terminal.ts source; tools/index.ts does NOT register any terminal tools\n\n## What replaced e2e-agents/\n- testPageChangesHandler.ts now uses workflows API (find template → execute → poll)\n- Suite handlers use e2es service directly\n- Live session handlers use browserSessions service directly\n\n## Tasks\n1. Delete e2e-agents/eRunner.ts, recordingHandler.ts, resultsFormatter.ts\n2. Run clean build: rm -rf dist \u0026\u0026 npm run build (removes stale dist/tools/terminal.js)\n3. Update CLAUDE.md tool count (currently says 18 tools with 5 Docker Terminal Tools — those don't exist in source)\n4. Verify tests still pass after deletion\n5. Publish updated package","notes":"Check __tests__/e2e-agents/ before deleting — tests may need removal too","status":"closed","priority":2,"issue_type":"epic","owner":"quinnosha@gmail.com","created_at":"2026-02-19T06:13:17.640902-08:00","created_by":"Quinn","updated_at":"2026-02-19T06:16:57.107135-08:00","closed_at":"2026-02-19T06:16:57.107135-08:00","close_reason":"All dead code removed, verified clean"}
{"id":"debugg-ai-mcp-6hk","title":"Long-Running Task Reliability","status":"open","priority":1,"issue_type":"epic","owner":"quinnosha@gmail.com","created_at":"2026-02-17T15:58:19.082751-08:00","created_by":"Quinn","updated_at":"2026-02-17T15:58:19.082751-08:00"}
{"id":"debugg-ai-mcp-7ov","title":"Centralize tunnel and URL resolution across all MCP tools","description":"Currently each tool (testPageChangesHandler, liveSessionHandlers, quickScreenshot) implements its own tunnel logic, localhost detection, targetUrl resolution, and response sanitization. This causes inconsistency, duplicated bugs, and the live session race condition. We need a single TunnelRequestContext layer that all tools go through.\n\nCurrent problems:\n- testPageChangesHandler: has resolveTargetUrl(), isLocalhostUrl(), replaceTunnelUrls() all inline\n- liveSessionHandlers: generates tunnelId BEFORE calling backend (race condition), custom localhost detection\n- quickScreenshot: no tunnel support, silently fails with localhost URLs\n- Each tool independently decides how to handle tunnels, causing different failure modes\n\nTarget state: a shared request pipeline that handles URL resolution, tunnel lifecycle, and response sanitization once, for all tools.","status":"closed","priority":1,"issue_type":"epic","owner":"quinnosha@gmail.com","created_at":"2026-02-23T16:35:53.709018-08:00","created_by":"Quinn","updated_at":"2026-02-23T16:40:25.25422-08:00","closed_at":"2026-02-23T16:40:25.25422-08:00","close_reason":"Closed","dependencies":[{"issue_id":"debugg-ai-mcp-7ov","depends_on_id":"debugg-ai-mcp-owj","type":"blocks","created_at":"2026-02-23T16:36:19.834814-08:00","created_by":"Quinn"},{"issue_id":"debugg-ai-mcp-7ov","depends_on_id":"debugg-ai-mcp-ho1","type":"blocks","created_at":"2026-02-23T16:36:19.920828-08:00","created_by":"Quinn"},{"issue_id":"debugg-ai-mcp-7ov","depends_on_id":"debugg-ai-mcp-5t5","type":"blocks","created_at":"2026-02-23T16:36:20.006743-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-7tk","title":"Browser session log endpoints all return 404","description":"All four log endpoints return 404 HTML (not JSON), meaning they don't exist at these paths: GET /api/v1/browser-sessions/logs/ GET /api/v1/browser-sessions/console-logs/ GET /api/v1/browser-sessions/network-events/ GET /api/v1/browser-sessions/error-logs/ Need to confirm correct endpoints from API team. Affects get_live_session_logs tool entirely.","status":"open","priority":1,"issue_type":"bug","owner":"quinnosha@gmail.com","created_at":"2026-02-23T12:01:39.019726-08:00","created_by":"Quinn","updated_at":"2026-02-23T12:01:39.019726-08:00"}
{"id":"debugg-ai-mcp-8dv","title":"Implement: debugg_ai_execute_workflow + debugg_ai_get_execution_status + debugg_ai_cancel_execution","description":"Lower-level workflow controls for power users. execute_workflow: POST /workflows/{uuid}/execute/ with context_data, returns execution_uuid immediately (async — caller must poll). get_execution_status: GET /executions/{uuid}/ + GET /executions/{uuid}/nodes/ for step detail. cancel_execution: POST /executions/{uuid}/cancel/. Add to tools/workflows.ts and handlers/workflowHandlers.ts.","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-17T16:00:40.276856-08:00","created_by":"Quinn","updated_at":"2026-02-19T12:24:58.179373-08:00","closed_at":"2026-02-19T12:24:58.179373-08:00","close_reason":"Not shipping execute_workflow/cancel_execution as separate tools — power use case deferred","dependencies":[{"issue_id":"debugg-ai-mcp-8dv","depends_on_id":"debugg-ai-mcp-8vd","type":"blocks","created_at":"2026-02-17T16:00:58.580249-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-8vd","title":"Implement: services/workflows.ts — Workflows API service layer","description":"Create services/workflows.ts following same pattern as services/e2es.ts and services/browserSessions.ts. Interface: WorkflowsService with methods: listWorkflows, listTemplates, getWorkflow, cloneWorkflow, executeWorkflow, getExecution, getExecutionNodes, cancelExecution, retryExecution, listExecutions. Add WorkflowsService to DebuggAIServerClient in services/index.ts.","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-17T16:00:25.619935-08:00","created_by":"Quinn","updated_at":"2026-02-19T12:24:57.88104-08:00","closed_at":"2026-02-19T12:24:57.88104-08:00","close_reason":"services/workflows.ts implemented and in production","dependencies":[{"issue_id":"debugg-ai-mcp-8vd","depends_on_id":"debugg-ai-mcp-fqu","type":"blocks","created_at":"2026-02-17T16:00:58.328752-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-a1n","title":"Tests: unit tests for polling logic and cancellation","description":"Write tests for: poll loop terminates on status=completed, poll loop terminates on AbortSignal, timeout fires and cleans up, progress callback failures dont crash the run, tunnel stopTunnel called on all exit paths (spy). Mock getE2eRun to control status sequence.","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-17T15:58:42.72423-08:00","created_by":"Quinn","updated_at":"2026-02-17T16:10:38.034443-08:00","closed_at":"2026-02-17T16:10:38.034443-08:00","close_reason":"Closed","dependencies":[{"issue_id":"debugg-ai-mcp-a1n","depends_on_id":"debugg-ai-mcp-pmr","type":"blocks","created_at":"2026-02-17T15:58:56.683307-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-cyk","title":"Tests: test that progress notifications fire during long runs","description":"Write tests verifying progressCallback is invoked at regular intervals during polling. Verify heartbeat fires when no step update. Verify progress token passed correctly through createProgressCallback.","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-17T15:58:42.8089-08:00","created_by":"Quinn","updated_at":"2026-02-17T16:10:38.036015-08:00","closed_at":"2026-02-17T16:10:38.036015-08:00","close_reason":"Closed","dependencies":[{"issue_id":"debugg-ai-mcp-cyk","depends_on_id":"debugg-ai-mcp-2us","type":"blocks","created_at":"2026-02-17T15:58:56.744322-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-cza","title":"Session screenshot fails when session in FAILED/not-ready state","description":"POST /api/v1/browser-sessions/sessions/{id}/screenshot/ returns 400 'Session cannot accept actions' / session_status: FAILED. Sessions appear to fail immediately after creation (async setup). Issues: 1) sessionId field mismatch means wrong ID may be used, 2) even with correct ID, session setup is async and caller must wait for can_accept_actions=true before taking screenshots. getLiveSessionScreenshotHandler currently calls screenshot without first polling for session readiness.","status":"open","priority":2,"issue_type":"bug","owner":"quinnosha@gmail.com","created_at":"2026-02-23T12:01:40.350617-08:00","created_by":"Quinn","updated_at":"2026-02-23T12:01:40.350617-08:00"}
{"id":"debugg-ai-mcp-e3y","title":"Tests: unit tests for workflow service + tools","description":"Mock AxiosTransport. Test: listTemplates returns filtered is_template results, cloneWorkflow posts to correct URL, executeWorkflow returns execution UUID, getExecution returns status correctly, cancelExecution calls cancel endpoint. Test run_evaluation handler: verify poll loop terminates on completed status, verify progress fires, verify error path returns isError:true.","status":"open","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-17T16:00:49.909407-08:00","created_by":"Quinn","updated_at":"2026-02-17T16:00:49.909407-08:00","dependencies":[{"issue_id":"debugg-ai-mcp-e3y","depends_on_id":"debugg-ai-mcp-2na","type":"blocks","created_at":"2026-02-17T16:00:58.711132-08:00","created_by":"Quinn"},{"issue_id":"debugg-ai-mcp-e3y","depends_on_id":"debugg-ai-mcp-koh","type":"blocks","created_at":"2026-02-17T16:00:58.778175-08:00","created_by":"Quinn"},{"issue_id":"debugg-ai-mcp-e3y","depends_on_id":"debugg-ai-mcp-8dv","type":"blocks","created_at":"2026-02-17T16:00:58.845154-08:00","created_by":"Quinn"},{"issue_id":"debugg-ai-mcp-e3y","depends_on_id":"debugg-ai-mcp-pdx","type":"blocks","created_at":"2026-02-19T12:25:39.422563-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-e6q","title":"Browser session response uses 'id' not 'sessionId'","description":"POST /api/v1/browser-sessions/sessions/ returns { id: '...', session_name: '...', ... } — the session identifier field is 'id', not 'session_id' or 'sessionId'. After the AxiosTransport camelCase transform, 'id' stays as 'id'. Our BrowserSession type defines 'sessionId: string' which is never populated. Impact: all downstream session calls (screenshot, logs, stop) receive sessionId=undefined and silently fail or throw confusing errors.","status":"closed","priority":1,"issue_type":"bug","owner":"quinnosha@gmail.com","created_at":"2026-02-23T12:01:36.806237-08:00","created_by":"Quinn","updated_at":"2026-02-23T14:39:05.614297-08:00","closed_at":"2026-02-23T14:39:05.614297-08:00","close_reason":"normalizeSession() in browserSessions.ts maps id→sessionId on all returned session objects"}
{"id":"debugg-ai-mcp-eem","title":"create_test_suite silently fails when repo_name/repo_path not configured","description":"POST /api/v1/test-suites/generate_tests/ requires repo_name and repo_path as required fields (400: {repo_name: ['This field is required.'], repo_path: ['This field is required.']}). Our tool marks them as optional with config defaults. When defaults are empty, the service catches the 400 error and returns null, causing the handler to throw 'Failed to create test suite - no response from service' — losing the actual error. Fix: surface the 400 validation errors to the user with actionable message about configuring DEBUGGAI_LOCAL_REPO_NAME and DEBUGGAI_LOCAL_REPO_PATH.","status":"closed","priority":2,"issue_type":"bug","owner":"quinnosha@gmail.com","created_at":"2026-02-23T12:01:43.35161-08:00","created_by":"Quinn","updated_at":"2026-02-23T14:39:05.720193-08:00","closed_at":"2026-02-23T14:39:05.720193-08:00","close_reason":"createE2eTestSuite/Commit now re-throw API errors; handlers validate repoName+repoPath early with actionable env-var message"}
{"id":"debugg-ai-mcp-foc","title":"Implement: guaranteed tunnel cleanup on all exit paths","description":"ngrok tunnel stopTunnel must be called on: normal completion, timeout, MCP client disconnect, thrown error, process SIGINT/SIGTERM. Use try/finally in handleE2eRun. Validate the tunnel URL format (currently passing https:// prefix inconsistently).","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-17T15:58:36.055867-08:00","created_by":"Quinn","updated_at":"2026-02-17T16:10:38.030741-08:00","closed_at":"2026-02-17T16:10:38.030741-08:00","close_reason":"Closed","dependencies":[{"issue_id":"debugg-ai-mcp-foc","depends_on_id":"debugg-ai-mcp-irs","type":"blocks","created_at":"2026-02-17T15:58:56.545867-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-fqu","title":"Research: design MCP tool surface for Workflows API","description":"Decide which endpoints become MCP tools. Proposed: (1) debugg_ai_list_templates — GET /workflows/?is_template=true. (2) debugg_ai_run_evaluation — high-level: clone eval template + execute + poll, returns agent response. (3) debugg_ai_execute_workflow — POST /workflows/{uuid}/execute/ for power users with own cloned workflows. (4) debugg_ai_get_execution_status — GET /executions/{uuid}/. (5) debugg_ai_cancel_execution — POST /executions/{uuid}/cancel/. (6) debugg_ai_list_executions — GET /executions/. Execution polling must share the safe async poll pattern from epic debugg-ai-mcp-6hk — do NOT implement before that epic's polling fix is in.","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-17T16:00:25.529295-08:00","created_by":"Quinn","updated_at":"2026-02-19T12:24:57.817968-08:00","closed_at":"2026-02-19T12:24:57.817968-08:00","close_reason":"Tool surface designed and shipped: check_app_in_browser is live","dependencies":[{"issue_id":"debugg-ai-mcp-fqu","depends_on_id":"debugg-ai-mcp-2zm","type":"blocks","created_at":"2026-02-17T16:00:58.259715-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-g3e","title":"Stop session endpoint: PATCH /api/v1/browser-sessions/sessions/{id}/ returns 405","description":"Our stopSession service calls PATCH /api/v1/browser-sessions/sessions/{id}/ with { status: 'COMPLETED' }. The API returns 405 Method Not Allowed. Need to confirm the correct endpoint/method for stopping a live session (may be DELETE or a dedicated /stop/ action endpoint). Coordinate with API team.","status":"open","priority":1,"issue_type":"bug","owner":"quinnosha@gmail.com","created_at":"2026-02-23T12:01:37.818688-08:00","created_by":"Quinn","updated_at":"2026-02-23T12:01:37.818688-08:00"}
{"id":"debugg-ai-mcp-h3r","title":"QA: manual end-to-end test of run_evaluation tool","description":"Using MCP inspector or Claude: call debugg_ai_run_evaluation with a real public URL and question. Verify: template is found and cloned, execution starts, progress notifications appear, result contains agent response text. Also verify debugg_ai_cancel_execution works on a running execution.","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-17T16:00:49.999447-08:00","created_by":"Quinn","updated_at":"2026-02-19T12:24:58.00357-08:00","closed_at":"2026-02-19T12:24:58.00357-08:00","close_reason":"QA done: check_app_in_browser passed against debugg.ai","dependencies":[{"issue_id":"debugg-ai-mcp-h3r","depends_on_id":"debugg-ai-mcp-e3y","type":"blocks","created_at":"2026-02-17T16:00:58.92341-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-ho1","title":"Fix live session tunnel race condition","description":"liveSessionHandlers.ts generates a tunnelId and constructs the tunnel URL BEFORE calling backend startSession(). The backend may try to validate/ping that tunnel URL before we've created it, causing 502s.\n\nFix: mirror the workflow handler pattern:\n1. Call startSession() with the original localhost URL (not a pre-fabricated tunnel URL)\n2. Backend returns tunnelKey in the session response\n3. THEN create the tunnel using tunnelManager.processUrl() with that tunnelKey\n\nRequires backend support for receiving originalUrl and returning tunnelKey (check if /api/v1/browser-sessions/sessions/ already supports this — the quick test showed no tunnel_key in response, which may mean the endpoint needs updating or the flow needs to differ).","status":"closed","priority":1,"issue_type":"bug","owner":"quinnosha@gmail.com","created_at":"2026-02-23T16:36:09.165728-08:00","created_by":"Quinn","updated_at":"2026-02-23T16:40:25.105428-08:00","closed_at":"2026-02-23T16:40:25.105428-08:00","close_reason":"Closed"}
{"id":"debugg-ai-mcp-irs","title":"Design: proper polling and cancellation architecture","description":"Design replacement for setInterval/busy-wait pattern. Must handle: AbortController for cancellation, progress notifications that prevent MCP timeout, safe async poll loop, ngrok tunnel cleanup on any exit path, single unified polling implementation (remove blockingHandleE2eRun).","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-17T15:58:26.615352-08:00","created_by":"Quinn","updated_at":"2026-02-17T16:10:38.027571-08:00","closed_at":"2026-02-17T16:10:38.027571-08:00","close_reason":"Closed","dependencies":[{"issue_id":"debugg-ai-mcp-irs","depends_on_id":"debugg-ai-mcp-n9b","type":"blocks","created_at":"2026-02-17T15:58:56.4169-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-koh","title":"Implement: debugg_ai_run_evaluation — high-level eval tool","description":"Power tool: wraps clone-template + execute + poll into a single agent-friendly call. Inputs: target_url (required), question (required), workflow_uuid (optional — if omitted, auto-finds and clones App Evaluation Template). Steps: (1) if no workflow_uuid: GET templates, find eval template, POST clone, PATCH is_active=true. (2) POST /execute/ with context_data. (3) Poll GET /executions/{uuid}/ with safe async loop + progress notifications. (4) Return agent textual response from execution.state. Must use same poll pattern as debugg-ai-mcp-pmr fix.","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-17T16:00:40.179535-08:00","created_by":"Quinn","updated_at":"2026-02-19T12:24:57.942352-08:00","closed_at":"2026-02-19T12:24:57.942352-08:00","close_reason":"Implemented as testPageChangesHandler / check_app_in_browser — shipped","dependencies":[{"issue_id":"debugg-ai-mcp-koh","depends_on_id":"debugg-ai-mcp-8vd","type":"blocks","created_at":"2026-02-17T16:00:58.498427-08:00","created_by":"Quinn"},{"issue_id":"debugg-ai-mcp-koh","depends_on_id":"debugg-ai-mcp-pmr","type":"blocks","created_at":"2026-02-17T16:00:58.642046-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-m4x","title":"QA: manual verification of 15-min E2E run stability","description":"Run a real slow E2E test end-to-end via MCP client (Claude or inspector). Verify: progress updates appear, connection stays alive, result arrives, tunnel cleans up. Test with MCP inspector and with actual Claude client.","status":"open","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-17T15:58:49.172004-08:00","created_by":"Quinn","updated_at":"2026-02-17T15:58:49.172004-08:00","dependencies":[{"issue_id":"debugg-ai-mcp-m4x","depends_on_id":"debugg-ai-mcp-a1n","type":"blocks","created_at":"2026-02-17T15:58:56.818013-08:00","created_by":"Quinn"},{"issue_id":"debugg-ai-mcp-m4x","depends_on_id":"debugg-ai-mcp-cyk","type":"blocks","created_at":"2026-02-17T15:58:56.882794-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-n9b","title":"Research: audit long-running task failure modes","description":"Review handleE2eRun, blockingHandleE2eRun, pollForCompletion. Document: race conditions in async setInterval, busy-wait while loop, orphaned tunnels on MCP timeout, missing cancellation, duplicate code. Identify which 2025-11-25 spec features (Tasks, cancellation) apply.","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-17T15:58:26.521916-08:00","created_by":"Quinn","updated_at":"2026-02-17T16:10:38.023119-08:00","closed_at":"2026-02-17T16:10:38.023119-08:00","close_reason":"Closed","dependencies":[{"issue_id":"debugg-ai-mcp-n9b","depends_on_id":"debugg-ai-mcp-6hk","type":"blocks","created_at":"2026-02-17T15:58:57.011411-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-nyw","title":"Add ngrok key revocation after workflow execution","description":"After execution completes (or errors), call POST /api/v1/ngrok/revoke/ with { ngrok_key_id } in the finally block. Add revokeNgrokKey(ngrokKeyId: string) method to DebuggAIServerClient (or as a standalone service call). Do NOT rely on the 15min Celery sweep — always revoke explicitly for clean teardown. ngrok_key_id comes from the WorkflowExecuteResponse (see debugg-ai-mcp-uvy). Depends on debugg-ai-mcp-uvy.","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-19T12:25:18.03867-08:00","created_by":"Quinn","updated_at":"2026-02-19T12:29:58.177188-08:00","closed_at":"2026-02-19T12:29:58.177188-08:00","close_reason":"revokeNgrokKey added to client, called in handler finally block","dependencies":[{"issue_id":"debugg-ai-mcp-nyw","depends_on_id":"debugg-ai-mcp-uvy","type":"blocks","created_at":"2026-02-19T12:25:38.745717-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-owj","title":"Refactor all tool handlers to use shared tunnel context","description":"Once the shared tunnel context resolver exists (debugg-ai-mcp-1s7), rip out the per-tool tunnel logic:\n\n1. testPageChangesHandler.ts:\n   - Remove inline resolveTargetUrl(), isLocalhostUrl()\n   - Remove inline replaceTunnelUrls() call on surferOutput\n   - Use shared prepareRequest() and sanitizeResponse() instead\n\n2. liveSessionHandlers.ts (startLiveSessionHandler):\n   - Remove manual tunnelId generation before backend call\n   - Remove custom isLocalhost detection\n   - Use shared prepareRequest() after getting tunnelKey from session response\n\n3. quickScreenshot tool:\n   - Add shared prepareRequest() call before API invocation\n\nGoal: no tunnel or URL-replacement logic in individual handlers — all of it lives in the shared layer.","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-23T16:36:15.233988-08:00","created_by":"Quinn","updated_at":"2026-02-23T16:40:25.14539-08:00","closed_at":"2026-02-23T16:40:25.14539-08:00","close_reason":"Closed","dependencies":[{"issue_id":"debugg-ai-mcp-owj","depends_on_id":"debugg-ai-mcp-1s7","type":"blocks","created_at":"2026-02-23T16:36:19.645198-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-pdx","title":"Update tests: workflow service + handler tunnel flow","description":"Update/add tests for: (1) WorkflowsService.executeWorkflow now returns WorkflowExecuteResponse with tunnel fields — mock and assert new shape. (2) testPageChangesHandler execute-first flow — mock executeWorkflow to return tunnel_key, verify tunnel is created after execute (not before). (3) getNgrokAuthToken removal — ensure no tests depend on it. (4) ngrok revocation — verify revokeNgrokKey called in finally. Depends on debugg-ai-mcp-uvy, debugg-ai-mcp-2pf, debugg-ai-mcp-nyw, debugg-ai-mcp-5ga.","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-19T12:25:33.214107-08:00","created_by":"Quinn","updated_at":"2026-02-19T12:29:58.355154-08:00","closed_at":"2026-02-19T12:29:58.355154-08:00","close_reason":"Tests added: testPageChangesHandler.test.ts covers new flow, env params, revocation logic","dependencies":[{"issue_id":"debugg-ai-mcp-pdx","depends_on_id":"debugg-ai-mcp-uvy","type":"blocks","created_at":"2026-02-19T12:25:39.041912-08:00","created_by":"Quinn"},{"issue_id":"debugg-ai-mcp-pdx","depends_on_id":"debugg-ai-mcp-2pf","type":"blocks","created_at":"2026-02-19T12:25:39.137785-08:00","created_by":"Quinn"},{"issue_id":"debugg-ai-mcp-pdx","depends_on_id":"debugg-ai-mcp-nyw","type":"blocks","created_at":"2026-02-19T12:25:39.235572-08:00","created_by":"Quinn"},{"issue_id":"debugg-ai-mcp-pdx","depends_on_id":"debugg-ai-mcp-5ga","type":"blocks","created_at":"2026-02-19T12:25:39.331956-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-pmr","title":"Implement: replace setInterval/busy-wait with safe async loop","description":"In e2eRunner.ts handleE2eRun: replace setInterval+while(!stopped) with a proper async poll loop using await sleep(). Fix async callback race condition. Add AbortController for cancellation. Remove duplicate blockingHandleE2eRun. Same fix in quickScreenshot pollForCompletion.","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-17T15:58:35.945639-08:00","created_by":"Quinn","updated_at":"2026-02-17T16:10:38.02923-08:00","closed_at":"2026-02-17T16:10:38.02923-08:00","close_reason":"Closed","dependencies":[{"issue_id":"debugg-ai-mcp-pmr","depends_on_id":"debugg-ai-mcp-irs","type":"blocks","created_at":"2026-02-17T15:58:56.481778-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-u44","title":"QA: manual tunnel test with localhost URL","description":"Manually verify the full ngrok tunnel flow works end-to-end.\n\nSteps:\n1. Run a local dev server (e.g. http://localhost:3000)\n2. Call check_app_in_browser with url=http://localhost:3000\n3. Confirm: tunnel created, backend browser agent can reach the app\n4. Confirm: tunnel cleaned up after run completes\n\nExpected: tunnelId logged, progress step 'Creating secure tunnel for localhost...' fires, result returns outcome from workflow execution.","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-19T06:13:24.994852-08:00","created_by":"Quinn","updated_at":"2026-02-19T12:24:58.06287-08:00","closed_at":"2026-02-19T12:24:58.06287-08:00","close_reason":"QA done: localhost:3000 tunnel test passed in session","dependencies":[{"issue_id":"debugg-ai-mcp-u44","depends_on_id":"debugg-ai-mcp-58t","type":"blocks","created_at":"2026-02-19T06:13:29.72062-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-uvy","title":"Update WorkflowsService.executeWorkflow: return full execute response","description":"Backend execute/ endpoint now returns tunnel_key, ngrok_key_id, ngrok_expires_at, resolved_environment_id, resolved_credential_id alongside resource_uuid. Update executeWorkflow() to: (1) return a WorkflowExecuteResponse object instead of just string, (2) accept optional env param ({ environmentId?, credentialId?, credentialRole?, username?, password? }), (3) pass env in request body. New interface: WorkflowExecuteResponse { executionUuid: string; tunnelKey: string | null; ngrokKeyId: string | null; ngrokExpiresAt: string | null; resolvedEnvironmentId: string | null; resolvedCredentialId: string | null; }. Callers in testPageChangesHandler.ts need updating too.","status":"closed","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-19T12:25:05.472758-08:00","created_by":"Quinn","updated_at":"2026-02-19T12:29:57.991012-08:00","closed_at":"2026-02-19T12:29:57.991012-08:00","close_reason":"executeWorkflow returns WorkflowExecuteResponse with tunnelKey, ngrokKeyId, resolvedIds; accepts optional env"}
{"id":"debugg-ai-mcp-xcs","title":"Merge \u0026 Deploy: long-running task fixes","description":"Version bump, npm publish, docker build and push. Update CLAUDE.md with the new polling architecture pattern.","status":"open","priority":1,"issue_type":"task","owner":"quinnosha@gmail.com","created_at":"2026-02-17T15:58:49.271812-08:00","created_by":"Quinn","updated_at":"2026-02-17T15:58:49.271812-08:00","dependencies":[{"issue_id":"debugg-ai-mcp-xcs","depends_on_id":"debugg-ai-mcp-m4x","type":"blocks","created_at":"2026-02-17T15:58:56.946919-08:00","created_by":"Quinn"},{"issue_id":"debugg-ai-mcp-xcs","depends_on_id":"debugg-ai-mcp-6hk","type":"blocks","created_at":"2026-02-17T15:58:57.071758-08:00","created_by":"Quinn"}]}
{"id":"debugg-ai-mcp-zdx","title":"Fix ngrok binary download breaking CI","description":"ngrok@5.0.0-beta.2 postinstall downloads binary from equinox.io which returns 503 in GitHub Actions. NGROK_SKIP_INSTALL_BINARY does not exist in this version's download.js — there is no skip mechanism. Fix: use 'npm ci --ignore-scripts' in both publish.yml and validate-setup.yml. Tests mock ngrok so no binary needed in CI. End users install without ignore-scripts so they get the binary normally.","status":"closed","priority":1,"issue_type":"bug","owner":"quinnosha@gmail.com","created_at":"2026-02-17T17:08:37.169417-08:00","created_by":"Quinn","updated_at":"2026-02-17T17:08:57.430364-08:00","closed_at":"2026-02-17T17:08:57.430364-08:00","close_reason":"Fixed: npm ci --ignore-scripts skips ngrok postinstall in both publish.yml and validate-setup.yml"}
